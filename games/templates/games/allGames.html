{% extends "games/base.html" %}
{% load static %}

{% block extra_head %}
<style>
    .gamesList {
        display: flex;
        flex-wrap: wrap;
        gap: 50px;
        margin: 20px 0;
        width: 100%;
    }
    .filterForm {
        margin-bottom: 20px;
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        align-items: center;
    }
    .filterForm input,
    .filterForm select,
    .filterForm button {
        padding: 5px 10px;
        font-size: 14px;
    }

    .filterSubmit {
        background-color: rgb(40, 159, 198);
        color: white;
        border: none;
        border-radius: 5px;
        height: 30px;
        width: 100px;
        font-weight: bold;
    }
</style>
{% endblock extra_head %}

{% block title %}All Games{% endblock title %}

{% block content %}
<main>
    <h1>All Games</h1>

    <!-- Filtro -->
    <form method="get" class="filterForm">
        <input type="text" name="title" placeholder="Search by title" value="{{ filter_title }}">
        
        <select name="genre">
            <option value="">All genres</option>
            {% for g in genres %}
                <option value="{{ g }}" {% if filter_genre == g %}selected{% endif %}>{{ g }}</option>
            {% endfor %}
        </select>

        <input type="number" step="0.01" name="price" placeholder="Max price" value="{{ filter_price }}">

        <button class="filterSubmit" type="submit">Filter</button>
    </form>

    <div class="gamesList">
        {% for game in games %}
            {% include "games/gameContainer.html" %}
        {% empty %}
            <p>No games found.</p>
        {% endfor %}
    </div>
</main>
{% endblock content %}
